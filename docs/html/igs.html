<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Title -->
        <title>ReadyApp Summit Docs</title>

        <!-- Style -->
        <link rel="stylesheet" type="text/css" href="../css/style.css">
    </head>

    <body>

        <div class="header">
            <img class="logo" src="../img/logo.png" />
            <span class="header-text">Installation &amp; Getting Started</span>

            <div class="header-link-container">
                <a href="../index.html"><span class="header-link" id="home"><img src="../img/Home.png" class="home-icon"/></span></a>

                <span class="header-link" id="start">Start<img src="../img/Menu.png" class="icon"/>
                    <ul>
                        <a href="../assets/IBM_dl_v1.pdf" target="_blank"><li><span>IBM Design Language <img src="../img/Tab.png" class="icon"/></span></li></a>
                        <a href="dg.html"><li><span>Design Guidelines</span></li></a>
                        <a href="arch.html"><li><span>Summit Architecture</span></li></a>
                        <a href="igs.html"><li><span>Installation &amp; Getting Started</span></li></a>
                    </ul>
                </span>

                <span class="header-link" id="frontend">App<img src="../img/Menu.png" class="icon"/>
                    <ul>
                        <a href="../gen/Swift/index.html" target="_blank"><li><span>iOS</span> <img src="../img/Tab.png" class="icon"/></li></a>
                        <a href="../gen/Java/html/index.html" target="_blank"><li><span>Android</span> <img src="../img/Tab.png" class="icon"/></li></a>
                        <a href="../gen/JavaScript/index.html" target="_blank"><li><span>Hybrid</span> <img src="../img/Tab.png" class="icon"/></li></a>
                    </ul>
                </span>

                <span class="header-link" id="middleware">Middleware<img src="../img/Menu.png" class="icon"/>
                    <ul>
                        <a href="../MobileFirst/gen/Java/html/index.html" target="_blank"><li><span>Java</span> <img src="../img/Tab.png" class="icon"/></li></a>
                        <a href="../MobileFirst/gen/Javascript/global.html" target="_blank"><li><span>JavaScript</span> <img src="../img/Tab.png" class="icon"/></li></a>
                    </ul>
                </span>
            </div>
        </div>

        <div class="container">

            <h1>Installation &amp; Getting Started</h1>

            <p>This guide will help you get started developing your own application with Summit. Use the contents box below to skip to section of the guide you are most interested in.</p>

            <div class="index-box">
                <div class="index-container">
                    <h3>Contents</h3>

                    <ul>
                        <li><a href="#prereqs">Prerequisites</a></li>
                        <li><a href="#demo-features">Demo Features</a>
                            <ul>
                                <li><a href="#demo-mode">Demo Mode Switch</a></li>
                                <li><a href="#estimote-beacons">Estimote Beacons</a></li>
                            </ul>
                        </li>
                        <li><a href="#setting-up-backend">MobileFirstPlatform Setup</a>
                            <ul>
                                <li><a href="#install-wl-server">Installing MobileFirst Server</a>
                                <li><a href="#install-cloudant-db">Installing and Populating Cloudant</a>
                                <li><a href="#summit-database-structure">Summit's Database Structure</a>
                                <li><a href="#adapters">Middleware Adapter Layer</a>
                                <li><a href="#security">Adapter Security</a>
                                <li><a href="#update-wl-files">Deploying and Updating Adapter/Native Application Files on Server</a>
                            </ul>
                        <li><a href="#building">Building the Apps</a>
                            <ul>
                                <li><a href="#getting-hybrid-in">Hybrid</a></li>
                                <li><a href="#ios-build">iOS</a></li>
                                <li><a href="#android-build">Android</a></li>
                                <li><a href="#build-logging-in">Logging In</a></li>
                            </ul>
                        </li>
                        <li><a href="#dev-hybrid">Developing Hybrid</a>
                        <li><a href="#testing">Running UI Tests</a>
                            <ul>
                                <li><a href="#ios-test">iOS</a></li>
                                <li><a href="#android-test">Android</a></li>
                            </ul>
                        </li>
                        <li><a href="#hybrid-unit-tests">Running Hybrid Unit Tests</a>
                    </ul>
                </div>
            </div>


            <!-- Seperate -->

            <h1 id="prereqs">Prerequisites</h1>

            <table>
                <thead>
                    <th class="apink">IBM Mobile First Platform</th>
                </thead>
                <tbody>
                    <tr>
                        <td class="pink">
                            <ul>
                                <li>MobileFirst Platform 6.3</li>
                                <li>MobileFirst Studio 6.3</li>
                                <li>Cloudant</li>
                                <li>Java 1.7 SDK</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <table>
                <thead>
                    <th class="ablue">iOS</th>
                    <th class="agreen">Android</th>
                    <th class="aaqua">Hybrid</th>
                </thead>
                <tbody>
                    <tr>
                        <td class="blue">
                            <ul>
                                <li>OS X 10.9 (or higher)</li>
                                <li>Xcode 6.2</li>
                                <li>Apache Ant 1.9.4</li>
                                <li>Java 1.7 SDK (For Ant and UI Automated tests)</li>
                                <li><a href="https://developer.apple.com" target="_blank">iOS developer ID</a></li>
                                <li>iOS provisioning profile with these services:</li>
                                <ul>
                                    <li>App Groups</li>
                                    <li>Apple Push Notification Services (APNS)</li>
                                </ul>
                            </ul>
                        </td>
                        <td class="green">
                        <ul>
                        <li> OS X 10.9 (or higher) or Windows 7 (or higher)</li>
                        <li>Android Studio 1.1.0+</li>
                        <li>The following with the Android SDK Manager:
                            <ul>
                                <li>Android 5.0-4.1.2 (API 21-18)</li>
                                <li>Android SDK Tools v24.0.2+</li>
                                <li>Android SDK Platform-tools v21+</li>
                                <li>Android SDK Build-tools v21.1.2+</li>
                                <li>All items under the "Extras" directory</li>
                            </ul>
                        </li>
                        <li>Apache Ant 1.9.4</li>
                        <li>Gradle 2.2.1</li>
                        <li>Java 1.7 SDK</li>
                        <li>Intel Hardware Accelerated Execution Manager (HAXM) v5.2 (or higher) </li>
                    </ul>
                        </td>
                        <td class="aqua">
                            <ul>
                                <li>Node.js</li>
                                <li>Sass</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h1 id="demo-features">Demo Features</h1>
            <h2 id="demo-mode">Demo Mode Switch</h2>
            <img src="../img/demo_mode.png" style="height:400px;margin-top:25px;"/>
            <p> The Summit application was designed to easily demonstrate different features. To assist this, "Demo mode" can be enabled by navigating to the Profile tab and flipping the switch. This "Demo mode" simulates the user entering a Summit store and receiving the related notification. Once enabled, this forces the application to display an Xtify banner notification immediately after minimizing the application (pressing the home button). To show this notification again, reopen the Summit application, ensure "Demo mode" is set (do not need to reset), and minimize the application once again. This can be done as many times as desired while "Demo mode" is set. </p>
            <img src="../img/notification.png" style="height:400px;margin-top:10px;"/>
            <p> This allows the individual demonstrating the application to prompt the "You are near a Summit store!" Xtify notification (shown above) that would usually only be accessible upon exiting and reentering the 70 meter range of beacons. Turning off "Demo mode" will halt these notifications from being force-shown when the application enters the background.  </p>

            <h2 id="estimote-beacons">Estimote Beacons</h2>
            <p>We used Estimote beacons in our app to determine proximity to a store department. The ideal setup would be that each
            department or region in a store has a beacon associated with it and this data is accessible from a database and as the user is navigating through the store, 
            their device is receiving custom notifications and sales alerts based on their location and proximity to the specific
            department. In our demo situation we created an algorithm that allows any salesman to use their Estimote Beacons out of the
            box. </p>

            <p>Our algorithm works as follows: as the mobile device encounters new beacons, the algorithm checks to see if the beacon is assigned a 
            department from our full list of departments in the current store. If no department is assigned to the beacon, then the algorithm assigns the next unassigned department. These settings do not currently persist between installs of the application to enable an ease of use in the event that the salesman does not have the same beacons between app instances. </p>

            <p> Note that this nonpersistant state means that for the first run of the app if the user walked first to the "dark blue" beacon and this was assigned the "Winter Sports" department, it is not guarenteed that the next time the user runs the app the "dark blue" beacon will be "Winter Sports", it could be the case that the "dark blue" beacon is now the "Mens Boots" department.</p>

            <p>It also should be noted that in the real world, you would not be using an algorithm that dynamically and randomly assigns beacons to a department. Instead, beacons would probably be hard coded to a department so that everytime the app is open and closed, the same beacons are the same departments. Since this is a demo and we can't know all the beacon ids that people will be using, we chose to instead implement Summit's beacon algorithm to be dymnamic in assigning beacons to departments so any estimote beacons would work with Summit. 

            <h3>Our recommended way of setting up beacons with Summit</h3>

            <p>1.Before opening the app, make sure that you have bluetooth turned on.

            <p>2. Grab all the beacon's you will be using for the demo and line them all up next to each other. For best results we recommend a minimum of 2 and a maximum of 3 beacons (it will work with more however).

            <p>3. Hold your phone within 0-1 feet of the beacons and open the Summit app as seen below:

            <p><img src="../img/beaconsetup.jpg" style="height:350px;margin-top:25px;" />

            <p>4. Hold your phone by the beacons for a few seconds to assign the beacons. Note that there is no visual indication to the user to indicate that the pairing process is complete, however, typically this only takes a few seconds. Summit should automatically detect the beacons and dynamically assign each beacon a department. Summit assigns departments randomly to the beacons, so there is no guarantee as to which department each beacon will be. However, one thing you do know is that the first 3 beacons will either be Camping Essentials, Men's Boots, or Winter Sports.

            <p>5. Now that the beacons are assigned, place the beacons throughout the room. For best results we recommend placing the beacons at least 3-5 feet away from each other. If the beacons are closer than this, there is a possibility the app won't be able to determine which beacon the user is closest to due to conflicting beacon signals. Beacons closer than 3-5 feet from each other can result in the list reordering unintentionally. 

            <p>6. By default one of the lists has 3 items already prepopulated, however for best results we recommend adding a couple of items to the list to enhance the effect of the list reordering.

            <p>7. When you are ready to demo the list reordering, walk over to a beacon and hold your phone within 1-2 feet of the beacon. You should see the list reorder within a few seconds (be patient). If you don't see the list reorder, then there is a possibility that the beacon you are currently at is camping essentials, which is by default already at the top of the list, thus no list reordering is needed. Walk to a different beacon and you should now see the list reorder.

            <h1 id="setting-up-backend">Installing MobileFirst Server</h1>

            <p> ReadyApps uses the IBM MobileFirst Platform backend which includes a web application server, a local
                development environment which runs in Eclipse, and a middleware layer. The web application server will
                interact with an existing SQL/NoSQL backend database system. For this use case, we are using Cloudant as
                the backend database and interacting with it using the Cloudant Java Driver. To install the production web
                application server, please follow the instructions on this <a href="http://www-01.ibm.com/support/knowledgecenter/SSHS8R_6.3.0/com.ibm.worklight.installconfig.doc/admin/c_installation.html?lang=es" target="_blank">page</a>.</p>

                Here are the steps to installing a local MobileFirst Server in the Eclipse IDE

                <h3 id="install-wl-server">1. Installing and configuring MobileFirst Platform with Eclipse Luna</h3>
                <p> Download and install <a href="https://projects.eclipse.org/releases/luna" target="_blank">Eclipse Luna</a>. Open Eclipse and click on Help -> Eclipse Marketplace</p>
                    <div class="left">
                        <img src="../img/eclipse-market.png" style="height:400px;margin-top:25px;" />
                        <img src="../img/eclipse-6-3-install.png" style="height:400px;margin-top:25px;" />
                    </div>
                <p> In the 'Find' field, type MobileFirst Platform 6.3. Once the results come up, click install Eclipse will prompt you to confirm the install and suggest restarting Eclipse for the install to complete. </p>

                <p> Once the install is completed and Eclipse has restarted, unzip the source code zip file (ReadyAppsSummit.zip). In this folder, you will find several sub-folders. The source for Android and iOS native applications reside in the "Android" and
                "iOS" folders. The MobileFirst Platform server side code resides in the "ReadyAppsSummit" folder. We need to import the contents on this folder into our Eclipse workspace as this is the Eclipse project we will be working with. </p>

                <p> Follow the below steps to import the project into your Eclipse workspace: </p>

                    <ul>
                        <li>Go back to your Eclipse IDE and change your view to the Package Explorer. This can be accessed via Window -> Show View -> Other -> Project Explorer menu option. This will open up the Project Explorer in the left panel of your Eclipse workspace. </li>
                        <li>Right click on the Package Explorer and select "Import". In the resulting dialog, find and expand the Git folder and select "Project from Git". </li>
                        <li>Select "Existing local repository"</li>
                        <li>In the "Select a Git Repository" dialog, click on "Add" and navigate to location where you unzipped the ReadyAppsSummit.zip file and select it.</li>
                        <li>Select "ReadyAppsSummit" folder in the resulting dialog and click on Finish to complete the import</li>
                        <div class="left">
                        <img src="../img/eclipse-import.png" style="height:350px;margin-top:25px;" />
                        <img src="../img/eclipse-git.png" style="height:350px;margin-top:25px;" />
                        <img src="../img/eclipse-existing.png" style="height:350px;margin-top:25px;" />
                        <img src="../img/eclipse-select-project.png" style="height:350px;margin-top:25px;" />
                    </div>

                    </ul>

                <h3 id="install-cloudant-db">2. Installing and Populating Cloudant</h3>

                <p> First you will need a Bluemix account. If you do not have one, you can go <a href="https://console.ng.bluemix.net/">here</a> and sign up in the top right corner. You will also need to download "cf", which is the Bluemix command line tool. You can find a link to download the tool <a href="https://www.ng.bluemix.net/docs/#starters/install_cli.html">here.</a></p>

                <p> We will primarily be following <a href="https://cloudant.com/blog/building-apps-using-node-js-and-cloudant-on-ibm-bluemix/#.VMBgiy7F9hq">this</a> tutorial. You should follow the tutorial to create your app from the boilerplate application. You should follow the tutorial until they start discussing the VCAP_SERVICES. One thing to note: during the above tutorial they state: "Currently you cannot edit your code within the browser." This is no longer true, you can now edit the database within the browser or through the cf cli interface they describe. It's up to you to decide which way you want to proceed (either with the Bluemix GUI or with cf). If you wish to continue and use cf, continue to follow the tutorial. Otherwise, I will discuss how to use the Bluemix web console below.</p>

                <span class="bold">Manually Entering Information within Bluemix</span>
                <ul>
                    <li> Navigate to the Bluemix Dashboard </li>
                    <li> Select your app from the Dashboard</li>
                    <li> Select your Cloudant instance
                        <div class="left">
                        <img src="../img/cloudantInstance.png" style="height:400px;margin-top:15px;margin-left:-10px;margin-bottom:10px;" />
                        </div>
                    </li>
                    <li> On the next page, select Launch from the upper right corner
                        <div class="left">
                        <img src="../img/cloudantLaunch.png" style="height:400px;margin-top:15px;margin-left:-10px;margin-bottom:10px;" />
                        </div>
                    </li>
                    <li> The next page will bring you to your Databases</li>
                    <li> To create a new database, select "Add New Database"
                        <div class="left">
                        <img src="../img/addDatabase.png" style="height:300px;margin-top:15px;margin-left:-10px;margin-bottom:10px;" />
                        </div>
                    </li>
                    <li> Name your Database and hit "Create"</li>
                    <li> This will bring you into your database. Here you can add Documents and Design Docs</li>
                    <li> To create a Document, hit the plus button next to "All Documents" and then select "New Doc" on the drop down menu.
                        <div class="left">
                        <img src="../img/createDocument.png" style="height:300px;margin-top:15px;margin-left:-10px;margin-bottom:10px;" />
                        </div>
                    </li>
                    <li> From the next screen you can add the information you want for that document. Make sure to hit "Save" to save the changes you made to the document.
                        <div class="left">
                        <img src="../img/cloudantDocument.png" style="height:800px;margin-top:15px;margin-left:-10px;margin-bottom:10px;" />
                        </div>
                    </li>
                    <li> Hit "Back" to return to the Database console.</li>
                    <li> You can then add as many documents as you would like</li>
                    <li> You can create a Design Doc in a very similar way. Except you will hit the "+" from "All Design Docs" and click on "New View" and fill in the information on the next screen. </li>
                </ul>
                <br />
                <span class="bold">Saving your database to Source Control</span>

                <p> You may want to save your database JSON representation to your git repository so that if for some reason your data gets lost or changed, you can easily repopulate your database. </p>
            
                <p> The easiest way to save your database is to use the built-in <code>_all_docs</code> index. We will need to use a Rest Client of your choice. You will query the database with a GET that will look like something like the following: </p>

                <code>[database url]/[database name]/_all_docs?include_docs=true</code>

                <p>An example for our database is as follows:</p>
                <code>https://c38f4c98-da63-41be-b62f-48b5934da36d-bluemix.cloudant.com/retail_db/_all_docs?include_docs=true</code>

                <p> Once you get the database JSON data out, you will need to massage the data to be able to fit into what the database will allow. This is what the output will look like: </p>
                <code>{"total_rows":41,"offset":0,"rows":[ <br />
{"id":"1006","key":"1006","value":null,"doc":{"_id":"1006","_rev":"2-c60a550a47753b3161de01ae6d078ecf","name":"Cycling","subCategories":[],"type":"category"}}, <br />
{"id":"1007","key":"1007","value":null,"doc":{"_id":"1007","_rev":"2-670b8bc64fb1d4b640bb13757aaf6bb3","name":"Fitness","subCategories":[],"type":"category"}}]}</code>

                <p> We will need to change the data to then look like the following. You can copy the JSON and paste it into your favorite text editor to make the needed changes, or you can use the included <code>doc_convert.sh</code> script. </p>

                <code> {"docs":[ <br />
{"_id":"1006","name":"Cycling","subCategories":[],"type":"category"}, <br />
{"_id":"1007","name":"Fitness","subCategories":[],"type":"category"}]}</code>

                <p> Notice how the <code>{"total_rows":41,"offset":0,"rows":[ </code> has been changed to <code>{"docs":[</code>. Each database entry has been changed to just the contents of its <code>doc</code> field, and the <code>_rev</code> field has been removed entirely. The <code>doc_convert.sh</code> script can be used like so:</p>
                <code>./doc_convert.sh [input file] [output file]</code>

                <p> Next we will save the JSON. You can save the JSON file in the <code>/db/SummitDBInventory</code> folder. The final step is to commit your changes to whatever you're using for source control.</p>
            
                <p> If the database is damaged and has to be recreated, the data can be restored from the JSON backup file with the following command:</p>
            
                <code>curl -u [username] -d @[path to local JSON file] -X POST [database url]/[database name]/_bulk_docs -H "Content-Type:application/json"</code>
            
                <p>An example for our database is as follows:</p>
                <code>curl -u c38f4c98-da63-41be-b62f-48b5934da36d-bluemix -d @db/SummitDBInventory/summit_db.json -X POST https://c38f4c98-da63-41be-b62f-48b5934da36d-bluemix.cloudant.com/retail_db/_bulk_docs -H "Content-Type:application/json"</code>
            
                <p> The system will prompt you for your password after entering the command. To verify that the data has been successfully added to the database, use the <code>_all_docs</code> URL above. Keep in mind that the data format created by the script only allows for inserting new data into a database; this format cannot be used to update existing entries.</p>

                <!--<p> The easiest way to save your database is to create a design doc on Cloudant that returns all of your documents. This design doc could look something like the following: </p>
                <code>function(doc) { <br />
                  &nbsp;&nbsp;  emit(doc._id, null); <br />
                }</code>

                <p> Once we have this design doc, we can query that design doc to get out all of the documents. We will need to use a Rest Client of your choice. You will query the database with a GET that will look like something like the following: </p>

                <code>[database url]/[database name]/[design doc name]/_view/all_docs?include_docs = true</code>

                <p>An example for our database is as follows:</p>
                <code>https://c38f4c98-da63-41be-b62f-48b5934da36d-bluemix.cloudant.com/retail_db/_design/retailDesignDoc/_view/all_docs?include_docs=true</code>

                <p> Once you get the database JSON data out, you will need to massage the data to be able to fit into what the database will allow. This is what the output will look like: </p>
                <code>{"total_rows":41,"offset":0,"rows":[ <br />
{"id":"1006","key":"1006","value":null,"doc":{"_id":"1006","_rev":"2-c60a550a47753b3161de01ae6d078ecf","name":"Cycling","subCategories":[],"type":"category"}}, <br />
{"id":"1007","key":"1007","value":null,"doc":{"_id":"1007","_rev":"2-670b8bc64fb1d4b640bb13757aaf6bb3","name":"Fitness","subCategories":[],"type":"category"}}]}</code>

                <p> We will need to change the data to then look like the following. You can copy the JSON and paste it into your favorite text editor to make the needed changes. </p>

                <code> {"docs":[ <br />
{"id":"1006","key":"1006","value":null,"doc":{"_id":"1006","_rev":"2-c60a550a47753b3161de01ae6d078ecf","name":"Cycling","subCategories":[],"type":"category"}}, <br />
{"id":"1007","key":"1007","value":null,"doc":{"_id":"1007","_rev":"2-670b8bc64fb1d4b640bb13757aaf6bb3","name":"Fitness","subCategories":[],"type":"category"}}]}</code>

                <p> Notice how the <code>{"total_rows":41,"offset":0,"rows":[ </code> has been changed to <code>{"docs":[ </code></p>

                <p> Next we will save the JSON. You can save the JSON file in the <code>/db/SummitDBInventory</code> folder. The final step is to commit your changes to whatever you're using for source control.</p>-->

                <h3 id="summit-database-structure">3. Summit's Database Structure</h3>

                <p> Cloudant is  a Schema-less database. To make some sense into what each document was in the database, we gave each document a <span class="bold">type</span>. We could then create design docs and query for documents where the type equaled what they wanted out. To return all products, we would have a design doc like the following: <br /> <code>function(doc) { <br />
                &nbsp;&nbsp;&nbsp;if (doc.type == 'product') <br />
                &nbsp;&nbsp;&nbsp;{ <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emit(doc.name, doc); <br />
                &nbsp;&nbsp;&nbsp;} <br />
                } <br /></code> <br />

                The types that a document can be in our database are as follows:
                <ul>
                    <li>store</li>
                    <li>user</li>
                    <li>product</li>
                    <li>coupon</li>
                    <li>list</li>
                    <li>department</li>
                    <li>category</li>
                    <li>subcategory</li>
                </ul>
                </p>
                <p>This allowed for us to picture our database with different tables with the needed information within each table. A pictorial representation of our database could be as follows:</p>

                <table class="db-table">
                    <thead>
                        <th>store</th>
                    </thead>
                </table>

                <table class="db-table">    
                   <tbody>
                        <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>store_number</td>
                            <td>int</td>
                        </tr>
                        <tr>
                            <td>location</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>address</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>store_hours</td>
                            <td>map{string:[array]} i.e. {"department id":aisles #}</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                    </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>user</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                        <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>first_name</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>last_name</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>username</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>recommended_items</td>
                            <td>[array of item ids]</td>
                        </tr>
                        <tr>
                            <td>past_orders</td>
                            <td>[array of order ids] (not currently implemented)</td>
                        </tr>
                        <tr>
                            <td>cart</td>
                            <td>[array of cart ids]</td>
                        </tr>
                        <tr>
                            <td>list</td>
                            <td>[array of list ids]</td>
                        </tr>
                        <tr>
                            <td>mystore</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>coupons</td>
                            <td>[array of coupon ids]</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>product</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>name</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>description</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>color</td>
                            <td>string (hex code for the color)</td>
                        </tr>
                        <tr>
                            <td>availability</td>
                            <td>map{string:map{string:int}} i.e. {"store id":"size":# available}}</td>
                        </tr>
                        <tr>
                            <td>reviews</td>
                            <td>int</td>
                        </tr>
                        <tr>
                            <td>isRecommended</td>
                            <td>boolean</td>
                        </tr>
                        <tr>
                            <td>rating</td>
                            <td>int</td>
                        </tr>
                        <tr>
                            <td>price</td>
                            <td>int</td>
                        </tr>
                        <tr>
                            <td>salePrice</td>
                            <td>int</td>
                        </tr>
                        <tr>
                            <td>department</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>category</td>
                            <td>[array of category ids]</td>
                        </tr>
                        <tr>
                            <td>subcategory</td>
                            <td>map{string:string} i.e. {"categoryId":"subcategoryId"}</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>image</td>
                            <td>string</td>
                        </tr>
                        </tbody>
                </table>
                
                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>coupon</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>text</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>department</td>
                            <td>image</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>list</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>items</td>
                            <td>[array of product ids]</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>department</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>isFeatured</td>
                            <td>boolean</td>
                        </tr>
                        <tr>
                            <td>image</td>
                            <td>string</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>category</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>name</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>subcategories</td>
                            <td>[array of subcategory ids</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />

                <table class="db-table">
                    <thead>
                        <th>subcategory</th>
                    </thead>
                </table>

                <table class="db-table">
                    <tbody>
                         <tr>
                            <td>_id</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>_rev</td>
                            <td>string (automatically generated from Cloudant)</td>
                        </tr>
                        <tr>
                            <td>name</td>
                            <td>string</td>
                        </tr>
                        <tr>
                            <td>type</td>
                            <td>string</td>
                        </tr>
                        </tbody>
                </table>

                <br /><br />


                <h3 id="adapters">4. Middleware Adapter Layer</h3>

                <p>MobileFirst Adapters include Javascript functions that behave like a REST call from the client to the backend. There are several adapter types available out of the box for various backend needs. These include HTTP, SQL, Cast IRON, and JMS. We are using HTTP adapters for this project. Some benefits that adapters <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/server-side-development/adapter-framework-overview/" target="_blank">provide</a>:</p>
                    <ul>
                        <li> <span class="bold">Universality:</span> Support multiple integration technologies and back-end information systems.</li>
                        <li> <span class="bold">Read-only and transactional capabilities:</span> Support read-only and transactional access modes to back-end systems.</li>
                        <li> <span class="bold">Fast Development:</span> Use simple XML syntax and are easily configured with JavaScript API.</li>
                        <li> <span class="bold">Security:</span> use flexible authentication facilities to create connections with back-end systems and offer control over the identity of the connected user.</li>
                        <li> <span class="bold">Transperancy:</span> Data that is retrieved from back-end applications is exposed in a uniform manner, regardless of the adapter type</li>
                    </ul>
                <p>The <code>SummitAdapter</code> is available in the <code>ReadyAppsSummit/adapters/SummitAdapter</code> folder. There are two files:  </p>
                <p>
                    1)<code> SummitAdapter.xml</code>

                     <div class="left">
                       <img src="../img/adapter-functions.png" style="height:200px;margin-top:25px;" />
                    </div>
                </p>
                    2)<code> SummitAdapter-impl.js</code>.
                     <div class="left">
                       <img src="../img/adapter-impl.png" style="height:400px;margin-top:25px;" />
                    </div>

                 <p>The adapter meta-data and security information is located in the XML file and the implementation of the Javascript functions is located in the <code>ReadyAppsAdapter-impl.js</code>. These functions invoke the Java server-side code which we saw in the previous section. Here you can add/delete functions as you see fit. You will notice the <code>securityTest</code> tag next to the procedure name. This is a MobileFirst Platform feature which allows you to protect sensitive functions from the public by adding an authentication layer. In other words, if a user tries to access these function without authenticating, they will be blocked and taken to the login page to reauthenticate. This ensures that the data is secured and only viewable by the user who has been properly authenticated. This will be explained in the next section. </p>

                 <p> In order to quickly test out the adapter functions, right click on the <code>SummitAdapter</code> folder in Eclipse, select "Run As" -> "Deploy MobileFirst Adapter." This will deploy your local MobileFirst Platform server on your local machine. In the console, you will notice all the logs as the server is being brought up. Once the adapter has been deployed, you will get the <code>Server Host</code> and <code>Server port</code> information. We will be using this information to connect our clients to the server.

                    <div class="left">
                       <img src="../img/adapter-deploy.png" style="height:400px;margin-top:25px;" />
                       <img src="../img/adapter-console.png" style="height:100px;margin-top:25px;" />
                    </div>

                 <p>To test out our adapter, right click on the <code>SummitAdapter</code> folder in Eclipse, select "Run As" -> "Invoke MobileFirst Procedure." In the resulting dialog, select "submitAuthentication" as the procedure name. In the parameters field, type <code>"user1","password1"</code>. Click on "Run" to run the procedure. Your default browser should open up with the results. If you entered the correct username and password, you will get a the below result:</p>

                     <div class="left">
                       <img src="../img/adapter-run.png" style="height:300px;margin-top:25px;" />
                       <img src="../img/adapter-submit.png" style="height:300px;margin-top:25px;" />
                       <img src="../img/adapter-result.png" style="height:100px;margin-top:25px;" />
                    </div>

                <p> We will explore some of the security features in the next section </p>

                <h3 id="security">5. Adapter Security </h3>

                <p>We have implemented <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/authentication-security/adapter-based-authentication/" target="_blank">Adapter Based Authentication</a> for this project. </p> This security feature protects sensitive adapter functions by only allowing authenticated users to access them. We only expose the <code>submitAuthentication</code> function as we will need to use that function to authenticate the user. Depending on the timeout set for your specific application needs, the user will be timed out if they do not access any application features that require a backend call. They will also be logged out if they terminate the app or move it as a background process. This ensures that any sensitive data pertaining to the user is not exposed to anyone else. <p>

                Let's go back to the Eclipse IDE to see how this security feature works. Redeploy the MobileFirst Platform adapter and then invoke the MobileFirst Procedure. Select the <code>getDefaultList</code> procedure for the procedure name. Enter <code>"580ababd18def4f7c9aafa4bd2b73ffc"</code> (the UUID for user1) for the parameter and click on "Run." The output you see in the browser should be an error stating that authentication is required to invoke this procedure. You will notice that the <code>authRequired</code> parameter is set to true. This means that the user needs to be authenticated. </p>

                    <div class="left">
                       <img src="../img/adapter-invalid.png" style="height:300px;margin-top:25px;" />
                       <img src="../img/adapter-invalid-result.png" style="height:130px;margin-top:25px;" />
                    </div>

                <p> Let's invoke the procedure again, but this time select <code>submitAuthentication</code>, enter <code>"user1","password1"</code> and hit "Run." Now the user has been authenticated. Invoke the <code>getDefaultList</code> procedure again, enter <code>580ababd18def4f7c9aafa4bd2b73ffc</code> and hit "Run." This time the list objects for <code>user1</code> should be returned by the adapter procedure. The <code>authRequired</code> parameter is set to false. </p>

                    <div class="left">
                       <img src="../img/adapter-valid-result.png" style="height:370px;margin-top:25px;" />
                    </div>
                <p>
                Once the user has been authenticated, they can access the protected resources of the application. For this ReadyApps project, those include viewing the default user's lists and product availability. If for any reason, the user is timed out due to inactivity or logged out due to app termination, they will be forced to login to access those resources in the future. The timeout can be set manually depending on the needs of your application. In order to set the timeout, navigate to the <code>ReadyAppsSummit/server/conf/worklight.properties</code> file in the Eclipse IDE. Search for the <code>serverSessionTimeout</code> parameter, uncomment and update the value as needed. This value for the timeout is set in minutes.</p>

                    <div class="left">
                       <img src="../img/worklight-timeout.png" style="height:130px;margin-top:25px;" />
                    </div>
                <p> Redeploy the adapter and you are all set to go! This is a nifty, out-of-the-box feature available to us with very little setup. The tutorial to setup the server-side configuration is available in at this <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/authentication-security/adapter-based-authentication/" target="_blank">link</a>. It ensures that the user data is protected while it is transmitted from the server to the client and vice-versa.<p>

                <h3 id="update-wl-files">6. Deploying and Updating Adapter/Native Application Files on Server</h1>
                <p>We have been developing and testing with a local MobileFirst Platform Studio for quick deployment and testing. This is great to quickly learn and test out a prototype. However, in a team setting, we will need to deploy the adapter and application files to a production server running MobileFirst Platform web application server. Everytime the adapter is deployed, an adapter file is generated in the Eclipse project. This holds all the latest adapter code and settings. We need to upload this adapter file to our production MobileFirst Platform web application server. But first, let's deploy the native applications, so the respective native application files will be generated. These will also need to be uploaded to the server. That way, our clients can properly connect to the server. Head over to your Eclipse IDE and expand the <code>ReadyAppsSummit/apps</code> folder. There are three folders: 1) <code>SummitAndroid</code>, 2) <code>SummitiOS</code>, and 3) <code>SummitHtml</code>. Right click on the Android folder -> select "Run As" -> "Deploy Native API." Once the app has been deployed, you will see a message on the console stating the successful deployment. Repeat the same steps with the iOS folder. Then right click on the HTML folder -> select "Run As" -> "Run on MobileFirst Development Server." After deploying the adapter and application files, navigate to the <code>ReadyAppsSummit/bin</code> folder in your Eclipse IDE. There should be five generated files:</p>
                    <div class="left">
                       <img src="../img/worklight-bin.png" style="height:150px;margin-top:25px;" />
                    </div>

                <p> The <code>ReadyAppsSummit.war</code> file is generated when the whole application is built. This file includes the Java server-side database code and any external libraries defined in the classpath. This file also needs to be deployed in the MobileFirst Platform server runtime. You can FTP or SCP the file onto a location on your production server either via command line or a file transfer tool. To transfer via command line, navigate to the <code>ReadyAppsSummit/bin</code> directory and execute the below <code>scp</code> command to securely transfer the file to the production server:</p>
                    <div class="well">
                        <code>scp ReadyAppsSummit.war admin@"hostname.xxx.xxx.com":/home/admin</code>
                    </div>
                <p> Once the <code>war</code> file has been transferred, <code>ssh</code> into your production server. Ensure the web application server and accompanying MySQL/DB2 database has been installed and configured. Find a file called <code>configuration-tool.sh</code>, which should be in one of the sub-folder of the MobileFirstPlatform web application server installation. Run that on the command line using the below command: </p>
                    <div class="well">
                        <code>./configuration-tool.sh</code>
                    </div>
                <p> We will now create a runtime configuration for our project and deploy the necessary files, so our clients can connect to the backend</p>
                    <ul>
                        <li>In the server configuration dialog, click on "Add a MobileFirst runtime environment to a configuration"
                            <div class="left">
                                <img src="../img/server-config.png" style="height:350px;margin-top:25px;" />
                            </div>
                        </li>
                        <li>Select your application configuration and enter the name of the application. For this project, we can name it <code>ReadyAppsSummit</code>. Click OK.
                        </li>
                        <li>We will now have to upload the <code>ReadyAppsSummit.war</code> file. Click on "Browse" and navigate to location where you transferred the <code>war</code> from your laptop to the server.
                            <div class="left">
                                <img src="../img/worklight-war.png" style="height:350px;margin-top:25px;" />
                            </div>
                        </li>
                        <li>Click on "Update WAR" button to complete the upload</li>
                        <li>Your runtime is now complete. The runtime is accessable via the browser via a defined URL based on your hostname and port. For example, here is a sample URL <p>
                             <div class="well">
                                <code>http://milmobilefirst.ibm.com:9080/worklightconsole/index.html#ReadyAppsSummit,catalog</code>
                            </div> </p>
                        </li>
                        <li>Login with your MobileFirst admin credentials. The default login is <code>demo/demo</code> for the username and password</li>

                        <li>You should now see the IBM MobileFirst Platform Operations Console with the ReadyAppsMobileFirst runtime <p>
                             <div class="left">
                                <img src="../img/mf-runtime.png" style="height:150px;margin-top:25px;" />
                            </div></p>
                        </li>
                        <li>Depending on your production server configuration, this URL can be accessed from outside the server from any machine. We will now upload the adapter and application files to this runtime. Click on "Browse" and navigate to the <code>ReadyAppsSummit/bin</code> directory on your local machine and select the adapter file. Click on "Submit." The adapter file should successfully upload to the runtime. Repeat the same steps with the native iOS Android, and HTML application files. Once complete, you should see all files deployed to the runtime:<p>
                            <div class="left">
                                <img src="../img/mf-runtime-success.png" style="height:400px;margin-top:25px;" />
                            </div></p>
                        </li>
                    </ul>

                    <p> These steps need be repeated everytime there is a change to any server-side Java code and/or adapter code. Since we are building native client applications, there won't be many changes made to those files. We are now done with setting up the MobileFirst Platform backend!


            <h1 id="building">Building the Apps</h1>

            <p>
                In order to build the native applications you will need to have extracted the
                application source code (ReadyAppSummit.zip) somewhere on your file system. From
                here on out this location will be referred to as <code>&lt;READYAPPRETAIL_HOME&gt;</code>.
            </p>

            <h2 id="getting-hybrid-in">Getting Hybrid Code In the Apps</h2>

            <p>
                The first step to getting the iOS application to run in a Simulator is to ensure
                that you have the latest hybrid code inside of the native application.  As the
                hybrid code (html/js/css) is shared, it lives outside of either native
                application and anytime changes are made to the hybrid code they need to be
                copied into the native directories.
            </p>
            <p>
                In order to copy the hybrid files into the native directories, ensure that you
                have ant installed and that ant is in your PATH. Go to the <code>&lt;READYAPPRETAIL_HOME&gt;</code>
                directory and run the following command from your shell:
            </p>

            <div class="well">
                <code>$ ant build</code>
            </div>

            <p>
                You should see comments on what is getting copied and a "Build Successful" message
                if everything went well.
            </p>

            <h2 id="ios-build">Building the iOS App</h2>

            <p>
                From here on out we assume that you have successfully put the hybrid code into the iOS application directory, as outlined <a href="#getting-hybrid-in">here</a>.
            </p>

            <h3>1. Open ReadyApp PT in Xcode</h3>

            <p>
                First, open Xcode 6.2.  When Xcode starts, open the ReadyAppSummit project.  To do this,
                choose <span class="bold">File &gt; Open...</span> in Xcode.  In the menu that comes up navigate to the
                <code>&lt;READYAPPRETAIL_HOME&gt;/iOS</code> directory and click on the <span class="bold">ReadyAppRetail.xcodeproj</span> file and
                choose <span class="bold">Open</span>.
            </p>

            <h3>2. Update Provisioning Profile for Project</h3>

            <p>
                Update the provisioning profile used to compile the application so that features
                like Apple Push Notification Services (APNS) or App Groups are enabled in app. With the Xcode IDE open, click on the
                <span class="bold">ReadyAppRetail</span> icon in the file navigator on the left-hand side.
                This should open
                up a menu with project settings. Choose <span class="bold">ReadyAppRetail</span> under the Project header.
                Choose <span class="bold">Build Settings</span>. Find the <span class="bold">Code Signing</span>
                section. You may need to update the value for
                the <span class="bold">Provisioning Profile</span> key to your provisioning profile with the required
                services enabled. Check the <a href="#prereqs">Prerequisites</a> section
                to see what services are needed.
            </p>

            <h3>3. Update Provisioning Profile for Targets</h3>

            <p>
                We may need to repeat the above process for the target settings.  There are
                two targets: ReadyAppRetailand ReadyAppRetail-Tests.
                Choose <span class="bold">ReadyAppPT</span> under the Targets header, then choose <span class="bold">Build Settings</span> at the
                top and find the <span class="bold">Code Signing</span> section.  Check
                the value for the provisioning profile and change if needed. Repeat this process for the
                ReadyAppRetail-Tests target.
            </p>

            <h3>4. Update Keychain Sharing Preferences with your app group  </h3>

            <p> We need to add your app group to the keychain sharing section of the app. First click on the ReadyAppRetail project in the top left corner. Then select the ReadyAppRetail target. Next select the capabilities tab and scroll down to the Keychain Sharing section. Add you group identifier to the list by pressing the plus button.  </p>

                    <div class="left">
                        <img src="../img/keychain_sharing.png" style="height:400px;margin-top:25px;" />
                    </div>


            <h3>5. Update MobileFirst Platform Server Properties </h3>

            <p> We need to point the app to the MobileFirst server backend in order to properly leverage all the features and functionalities. You may point to a local server running on your laptop or a production server. In XCode, navigate to the <code>Supporting Files</code> folder and open up the <code>worklight.plist</code> file. Update the <code>host</code> and <code>port</code> values to point to the appropriate server. </p>

            <p><span class="bold">Note: </span> The MobileFirst APIs have been integrated with the XCode project, so there is no other configuration required.</p>

                    <div class="left">
                        <img src="../img/xcode-wl.png" style="height:400px;margin-top:25px;" />
                    </div>

            <h3>6. Compile &amp; Run</h3>

            <p>
                To compile and run the application in the simulator of your choice, click on the
                play button at the top left of the IDE.
                Next to it will be a stop button
                and next to that, the name of the app.  Click on the name of the app. In the menu
                that opens you should see on the right side a list of available simulators you
                can run the application against. Choose <span class="bold">iPhone 6</span>.
                You should be able to
                click on the play button and Xcode should compile the application successfully,
                start the selected simulator, install the application into it,
                and start the application.</p>

            <h2 id="android-build">Building the Android App</h2>

            <p>
                From here on out we assume that you have successfully put the hybrid code into the Android application directory, as outlined <a href="#getting-hybrid-in">here</a>.
            </p>

            <span class="bold">Prerequisite Downloads:</span>
            <ul>
                <li>Android Studio (At the time of development we are using Android Studio 1.1.0)</li>
                <li>JDK 1.7 (newest JDK 7 and NOT JDK 8) </li>
                <li>(Optional) Android Studio built-in packages and tools. If this is your first time using Android Studio, it will prompt you to install multiple packages to run and build our project.</li>
                <li>Gradle (used to build the project, at the time of development we are using Gradle 2.2.1)</li>
            </ul>
            
            <h3>1. Open Summit in Android Studio</h3>

            <p>
                When you first start Android Studio, it might ask you to point to your Gradle
                installation as Android Studio does not provide a copy, if this is your first time, download Gradle and then point Android Studio to the gradle installation. You should then see the
                "Welcome to Android Studio" screen.  Choose <span class="bold">Open an Existing Android Studio project</span> in the quick start pane.  Go to the
                <code>&lt;READYAPP_SUMMIT_HOME&gt;/Android/Summit</code> directory. Choose <span class="bold">OK</span>.
                The project should now begin opening.  To be safe,
                choose <span class="bold">Tools > Android > Sync Project with Gradle
                Files</span>. As mentioned in the Prerequisite Downloads, if you do not have all of the proper packages and build tools, Android Studio will prompt you to install them when running <span class="bold">Sync Project with Gradle Files</span>.
            </p>

            <h3>2. Create an Emulator</h3>

            <p>
                Before you can actually run the application you have to create an Android
                emulator. To do this open the Android Virtual Device (AVD) manager by choosing <span class="bold">Tools > Android > AVD Manager</span>.  Choose <span class="bold">Create...</span>
                 to open up the "Create new Android Virtual Device (AVD)" menu.  The most
                important settings to set are the following:
            </p>
            <p>
                <ul>
                    <li>Choose the <span class="bold">Nexus 5 (4.95", 1080x1920: xxhdpi)</span> device</li>
                    <li>Choose <span class="bold">Google APIs (Google Inc.) - API Level 21</span></li>
                    <li>Choose <span class="bold">Google APIs Intel Atom (x86)</span></li>
                    <li>Deselect the keyboard checkbox (ensures that tests run cleanly)</li>
                    <li> Check <span class="bold">Use Host GPU</span></li>
                </ul>
            </p>
            <p>
                These options help ensure the best performance when testing the app with the emulator.
                Once the emulator is defined, start it and close the AVD manager.
            </p>

            <h3>4. Update MobileFirst Platform Server Properties </h3>

            <p> We need to point the app to the MobileFirst server backend in order to properly leverage all the features and functionalities. You may point to a local server running on your laptop or a production server. In Android Studio, navigate to the <code>app/assets</code> folder and open up the <code>wlclient.properties</code> file. Update the <code>host</code> and <code>port</code> values to point to the appropriate server. The MobileFirst APIs have been integrated with the Android project, so there is no other configuration required. </p>

                    <div class="left">
                        <img src="../img/android-wl.png" style="height:400px;margin-top:25px;" />
                    </div>

            <h3>5. Compile &amp; Run</h3>

            <p>
                Now the code has everything it needs to run the application. Choose <span class="bold">Run &gt; Run 'app'</span> to run the application.
            </p>

            <h2 id="build-logging-in">Logging Into the App</h2>

            <p>Use the following user IDs and passwords to log into the app. </p>

            <table>
                <thead>
                    <th style="width:15%;">User ID</th>
                    <th style="width:15%;">Password</th>
                    <th style="width:70%;">Purpose</th>
                </thead>
                <tbody>
                    <tr>
                        <td><code>user1</code></td>
                        <td><code>password1</code></td>
                        <td>This is the login information for the user named Pete Brown. </td>
                    </tr>
                    <tr>
                        <td><code>user2</code></td>
                        <td><code>password2</code></td>
                        <td>This is the login information for the user named Lori Smith. </td>
                    </tr>
                </tbody>
            </table>

            <h1 id="dev-hybrid">Developing the Hybrid Code</h1>

            <p>If you wish to develop the hybrid code, it is recommended you develop on either Apple Safari or Google Chrome, as these are the same browsers that iOS and Android use, respectively.</p>

            <p>Before developing on a browser, you will need to create a test server with Node so that AngularJS will work correctly. You can write your Node server however you like. For the sake of this tutorial, ours will be named <code>test-server.js</code>.</p>

            <p>Here is an example test server that we wrote for our own testing. Please note that you will have to install a few dependencies with the Node Package Manager for this code to work:</p>

            <div class="well">
                <code>
                    var connect = require('connect');<br/>
                    var serveStatic = require('serve-static');<br/>
                    <br/>
                    connect().use(serveStatic('.')).listen(5000);
                </code>
            </div>

            <p>After creating your test server, navigate to the <code>html</code> directory and run:</p>

            <div class="well">
                <code>$ node test-server</code>
            </div>

            <p>Stylesheets are generated using Sass. To start Sass, navigate to the <code>html</code> directory and run:</p>

            <div class="well">
                <code>$ sass --style=compressed --sourcemap=none -C --watch scss/main.scss:css/style.css</code>
            </div>

            <p>Alternatively, you may run own Sass command; just ensure that the output is compressed and named <code>style.css</code>. Please note that the command above will watch all <code>.scss</code> files for changes and recreate <code>style.css</code> every time it sees a change. To end the command above, simply use <code>Ctrl+C</code> to kill Sass.</p>

            <h1 id="testing">Running the Automated UI Tests</h1>

            


            <h2 id="ios-test">Running the iOS UI Tests</h2>

        <p>
                First, you will have to make sure you have run the most current build of the app on the device or simulator you would like to target. In order to run the automated UI tests for iOS, open the UI Tests directory in the iOS project. Open the .trace files and instruments will open. You will see a device selector on the top left cornor select a device and a choose ReadyApp Retail as your target. Once those steps are complete, click the record button and the test will run. 
            </p>
            

            <h2 id="android-test">Running the Android UI Tests</h2>
            <p> The automated tests for Android are written in UI Automater. There is a build.gradle script already created that will run the tests for you.</p>
        <p>
                In order to run the automated UI tests for Android, you will have to
                have built the application first.  Go <a href="#android-build">here</a> to learn how to build the Android app. Once it has been built, it should appear in a directory
                similar to the following:
            </p>
            <div class="well">
                <code>
    &lt;READYAPPRETAIL_HOME&gt;/Android/Summit/app/build/outputs/apk/app-debug.apk
               </code>
            </div>
 
            <p>
                To run the tests you will have to do so within the following directory: 
                <div class = "well"><code>&lt;READYAPPRETAIL_HOME&gt;/automatedUITests/Android_Automated_UI_Testing</code> </div>
                <br />
                The gradle script requires that you have Gradle and Ant installed on your machine.
                To automatically run the Android automated tests, execute the command gradle startTest from within
                the Android automated tests folder. 
                You can either specify your environment variables from within the gradle.properties file 
                or you can set them via command line when executing the command. You will need to set the following
                variables:                    
            </p>
                <span class="bold">If setting via gradle.properties:</span>
                <code>
                    <ul>
                        <li>androidSdkHome</li>
                        <li>androidSdkTarget</li>
                        <li>androidSdkBuildToolsDir</li>
                        <li>androidApkPath</li>
                        <li>testDirectory</li>
                        <li>filesToIgnore</li>
                    </ul>
                </code>
                <br />
                <span class="bold">If setting via command line:</span>
                <code>
                    <ul>
                        <li>SdkHome</li>
                        <li>SdkTarget</li>
                        <li>SdkBuildToolsDir</li>
                        <li>ApkPath</li>
                        <li>TestDirectory</li>
                        <li>FilesToIgnore</li>
                    </ul>
                </code>
            <p>
                The build.gradle script will do the following:
                <ul>
                    <li>Create Jar</li>
                    <li>Create dist directory and move the Jar to it</li>
                    <li>Delete emulator specified in script</li>
                    <li>Create new emulator</li>
                    <li>Start the created emulator and wait unitl it's ready for use</li>
                    <li>Install Android app onto the emulator</li>
                    <li>Install the Jar onto the emulator</li>
                    <li>Run the tests and generate output to reports directory</li>
                    <li>Stop the emulator</li>
                </ul> 
            </p>

            <h1 id="hybrid-unit-tests">Running the Hybrid Unit Tests</h1>

            <p>In order to run the Hybrid tests, you will be using Karma as a test runner and Jasmine as a testing framework. These are already packaged in the <code>html/node_modules</code> directory for you.</p>

            <p>Karma expects Safari and Chrome to be installed on your machine, as those are the browsers that iOS and Android use for their hybrid views, respectively. To run the unit tests, simply run the following command from the <code>html/test</code> directory:</p>

            <div class="well">
                <code>$ .../node_modules/karma/bin/karma start test-config.js</code>
            </div>

            <p>Karma should now output what unit tests succeeded and what unit tests failed to the terminal. The actual unit tests are defined in the <code>html/test/spec</code> directory.</p>

        </div>

        <div class="footer">
            <div class="footer-container">
                <h1>You're All Set</h1>

                <ul>
                    <li>Previously...<br /><a href="arch.html">Summit Architecture</a></li>
                    <li>Now...<br />Read the App and Middleware documentation</li>
                </ul>
            </div>
        </div>

    </body>

</html>
